{% extends 'base/base.html' %}

{% block title %}Home{% endblock %}
{% load static %}
{% block content %}

<div class="gap-1 px-6 flex flex-1 justify-center py-5">
    <div class="layout-content-container flex flex-col w-80">
        <div class="flex h-full min-h-[700px] flex-col justify-between bg-[#F9FAFA] p-4">
            <div class="flex flex-col gap-4" >
                <div class="flex gap-3">
                    <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
                        style='background-image: url("https://cdn.usegalileo.ai/stability/cb78038e-91df-4edd-9de7-715c0f16d570.png");'>
                    </div>
                    <div class="flex flex-col">
                        <h1 class="text-[#1C1D22] text-base font-medium leading-normal">Friends</h1>
                        <p class="text-[#3C3F4A] text-sm font-normal leading-normal">Manage your connections</p>
                    </div>
                </div>
                <div class="flex flex-col gap-2">
                    <div class="flex items-center gap-3 px-3 py-2 {% if request.path == '/friends/'%} rounded-full bg-[#EEEFF2] tabs {%endif%}">
                        <a href="#" style="display: flex;">
                            <div class="text-[#1C1D22]" style="margin-right: 10px;" data-icon="Image" data-size="24px"
                                data-weight="regular">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor"
                                    viewBox="0 0 256 256">
                                    <path
                                        d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z">
                                    </path>
                                </svg>
                            </div>
                            <p class="text-[#1C1D22] text-sm font-medium leading-normal"><a href="{% url 'friends' %}"> Updates</a></p>
                        </a>
                    </div>
                    <div class="flex items-center gap-3 px-3 py-2 tabs">
                        <a href="#" style="display: flex;">
                            <div class="text-[#1C1D22]" style="margin-right: 10px;" data-icon="UserPlus"
                                data-size="24px" data-weight="regular">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor"
                                    viewBox="0 0 256 256">
                                    <path
                                        d="M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136Zm-57.87,58.85a8,8,0,0,1-12.26,10.3C165.75,181.19,138.09,168,108,168s-57.75,13.19-77.87,37.15a8,8,0,0,1-12.25-10.3c14.94-17.78,33.52-30.41,54.17-37.17a68,68,0,1,1,71.9,0C164.6,164.44,183.18,177.07,198.13,194.85ZM108,152a52,52,0,1,0-52-52A52.06,52.06,0,0,0,108,152Z">
                                    </path>
                                </svg>
                            </div>
                            <p class="text-[#1C1D22] text-sm font-medium leading-normal">Add friends</p>
                        </a>
                    </div>
                    <div class="flex items-center gap-3 px-3 py-2 tabs {% if request.path == '/friends/unfollow/'%} rounded-full bg-[#EEEFF2] tabs {%endif%}">
                        <a href="#" style="display: flex;">
                            <div class="text-[#1C1D22]" style="margin-right: 10px;" data-icon="Users" data-size="24px"
                                data-weight="fill">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor"
                                    viewBox="0 0 256 256">
                                    <path
                                        d="M164.47,195.63a8,8,0,0,1-6.7,12.37H10.23a8,8,0,0,1-6.7-12.37,95.83,95.83,0,0,1,47.22-37.71,60,60,0,1,1,66.5,0A95.83,95.83,0,0,1,164.47,195.63Zm87.91-.15a95.87,95.87,0,0,0-47.13-37.56A60,60,0,0,0,144.7,54.59a4,4,0,0,0-1.33,6A75.83,75.83,0,0,1,147,150.53a4,4,0,0,0,1.07,5.53,112.32,112.32,0,0,1,29.85,30.83,23.92,23.92,0,0,1,3.65,16.47,4,4,0,0,0,3.95,4.64h60.3a8,8,0,0,0,7.73-5.93A8.22,8.22,0,0,0,252.38,195.48Z">
                                    </path>
                                </svg>
                            </div>
                            <p class="text-[#1C1D22] text-sm font-medium leading-normal"><a href="{% url 'friends_unfollow' %}">Your friends</a></p>
                        </a>
                    </div>
                    <div class="flex items-center gap-3 px-3 py-2 tabs">
                        <a href="#" style="display: flex;">
                            <div class="text-[#1C1D22]" style="margin-right: 10px;" data-icon="DotOutline"
                                data-size="24px" data-weight="regular">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor"
                                    viewBox="0 0 256 256">
                                    <path
                                        d="M128,96a32,32,0,1,0,32,32A32,32,0,0,0,128,96Zm0,48a16,16,0,1,1,16-16A16,16,0,0,1,128,144Z">
                                    </path>
                                </svg>
                            </div>
                            <p class="text-[#1C1D22] text-sm font-medium leading-normal"><a href="{% url 'friends_follow' %}">Requests</a></p>
                        </a>
                    </div>
                    <div class="flex items-center gap-3 px-3 py-2 tabs">
                        <a href="#" style="display: flex;">
                            <div class="text-[#1C1D22]" style="margin-right: 10px;" data-icon="Person" data-size="24px"
                                data-weight="regular">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor"
                                    viewBox="0 0 256 256">
                                    <path
                                        d="M160,40a32,32,0,1,0-32,32A32,32,0,0,0,160,40ZM128,56a16,16,0,1,1,16-16A16,16,0,0,1,128,56Zm90.34,78.05L173.17,82.83a32,32,0,0,0-24-10.83H106.83a32,32,0,0,0-24,10.83L37.66,134.05a20,20,0,0,0,28.13,28.43l16.3-13.08L65.55,212.28A20,20,0,0,0,102,228.8l26-44.87,26,44.87a20,20,0,0,0,36.41-16.52L173.91,149.4l16.3,13.08a20,20,0,0,0,28.13-28.43Zm-11.51,16.77a4,4,0,0,1-5.66,0c-.21-.2-.42-.4-.65-.58L165,121.76A8,8,0,0,0,152.26,130L175.14,217a7.72,7.72,0,0,0,.48,1.35,4,4,0,1,1-7.25,3.38,6.25,6.25,0,0,0-.33-.63L134.92,164a8,8,0,0,0-13.84,0L88,221.05a6.25,6.25,0,0,0-.33.63,4,4,0,0,1-2.26,2.07,4,4,0,0,1-5-5.45,7.72,7.72,0,0,0,.48-1.35L103.74,130A8,8,0,0,0,91,121.76L55.48,150.24c-.23.18-.44.38-.65.58a4,4,0,1,1-5.66-5.65c.12-.12.23-.24.34-.37L94.83,93.41a16,16,0,0,1,12-5.41h42.34a16,16,0,0,1,12,5.41l45.32,51.39c.11.13.22.25.34.37A4,4,0,0,1,206.83,150.82Z">
                                    </path>
                                </svg>
                            </div>
                            <p class="text-[#1C1D22] text-sm font-medium leading-normal">Suggested</p>
                        </a>
                    </div>
                    <div class="flex items-center gap-3 px-3 py-2 tabs">
                        <a href="#" style="display: flex;">
                            <div class="text-[#1C1D22]" style="margin-right: 10px;" data-icon="Prohibit"
                                data-size="24px" data-weight="regular">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor"
                                    viewBox="0 0 256 256">
                                    <path
                                        d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm88,104a87.56,87.56,0,0,1-20.41,56.28L71.72,60.4A88,88,0,0,1,216,128ZM40,128A87.56,87.56,0,0,1,60.41,71.72L184.28,195.6A88,88,0,0,1,40,128Z">
                                    </path>
                                </svg>
                            </div>
                            <p class="text-[#1C1D22] text-sm font-medium leading-normal">Blocked</p>
                        </a>
                    </div>
                </div>
            </div>
            <button
                class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]">
                <span class="truncate">Add Friend</span>
            </button>
        </div>
    </div>
    <div class="layout-content-container flex flex-col max-w-[960px] flex-1">

        {% block friends_extention %}{% endblock %}
        <!-- <div id="Updates" class="layout-content-container flex flex-col max-w-[960px] flex-1">
            <div class="flex flex-wrap justify-between gap-3 p-4">
                <p class="text-[#1C1D22] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72">Today's entry
                </p>
            </div>
            {% for entrie in entries%}
            <div id="{{entrie.pk}}_page"
                class="flex items-center gap-4 bg-[#F9FAFA] px-4 min-h-[72px] py-2 justify-between">
                <div class="flex items-center gap-4">
                    <div class="text-[#1C1D22] flex items-center justify-center rounded-lg bg-[#EEEFF2] shrink-0 size-12"
                        data-icon="Sun" data-size="24px" data-weight="regular">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor"
                            viewBox="0 0 256 256">
                            <path
                                d="M120,40V16a8,8,0,0,1,16,0V40a8,8,0,0,1-16,0Zm72,88a64,64,0,1,1-64-64A64.07,64.07,0,0,1,192,128Zm-16,0a48,48,0,1,0-48,48A48.05,48.05,0,0,0,176,128ZM58.34,69.66A8,8,0,0,0,69.66,58.34l-16-16A8,8,0,0,0,42.34,53.66Zm0,116.68-16,16a8,8,0,0,0,11.32,11.32l16-16a8,8,0,0,0-11.32-11.32ZM192,72a8,8,0,0,0,5.66-2.34l16-16a8,8,0,0,0-11.32-11.32l-16,16A8,8,0,0,0,192,72Zm5.66,114.34a8,8,0,0,0-11.32,11.32l16,16a8,8,0,0,0,11.32-11.32ZM48,128a8,8,0,0,0-8-8H16a8,8,0,0,0,0,16H40A8,8,0,0,0,48,128Zm80,80a8,8,0,0,0-8,8v24a8,8,0,0,0,16,0V216A8,8,0,0,0,128,208Zm112-88H216a8,8,0,0,0,0,16h24a8,8,0,0,0,0-16Z">
                            </path>
                        </svg>
                    </div>
                    <div class="flex flex-col justify-center">
                        <p class="text-[#1C1D22] text-base font-medium leading-normal line-clamp-1">{{entrie.title}}, by
                            {{entrie.user}}</p>
                        <p class="text-[#3C3F4A] text-sm font-normal leading-normal line-clamp-2">{{entrie.created_at}}
                        </p>
                    </div>
                </div>
                <div class="shrink-0">
                    <button
                        class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-8 px-4 bg-[#EEEFF2] text-[#1C1D22] text-sm font-medium leading-normal w-fit">
                        <span class="truncate">Edit</span>
                    </button>
                </div>
            </div>
            <p class="text-[#1C1D22] text-base font-normal leading-normal pb-3 pt-1 px-4">
                {{entrie.content|linebreaksbr }}
            </p>

            {% for image in entrie.images.all %}
            <div class="flex w-full grow bg-[#F9FAFA] @container p-4">
                <div class="w-full gap-1 overflow-hidden bg-[#F9FAFA] @[480px]:gap-2 aspect-[3/2] rounded-xl flex">
                    <div class="w-full bg-center bg-no-repeat bg-cover aspect-auto rounded-none flex-1"
                        style='background-image: url("{{image.image.url}}");'></div>
                </div>
            </div>
            {% endfor %}
            {% endfor %}
            <div class="flex justify-stretch">
                <button
                    class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-5 bg-[#EEEFF2] text-[#1C1D22] text-base font-bold leading-normal tracking-[0.015em]">
                    <span class="truncate">See all entries</span>
                </button>
            </div>
        </div>

        <div id="Requests">


            {% for friend in friends%}
            <div class="flex items-center gap-4 bg-[#F9FAFA] px-4 min-h-[72px] py-2 justify-between">
                <div class="flex items-center gap-4">
                    <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-fit"
                        style='background-image: url("https://cdn.usegalileo.ai/sdxl10/88fbe608-8943-400e-9857-4b335060a6b5.png");'>
                    </div>
                    <div class="flex flex-col justify-center">
                        <p class="text-[#1C1D22] text-base font-medium leading-normal line-clamp-1">{{friend}}</p>
                        <p class="text-[#3C3F4A] text-sm font-normal leading-normal line-clamp-2">User profile details
                        </p>
                    </div>
                </div>
                {{form.errors}}
                <div class="shrink-0">
                    <form method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="opt" id="opt" value="follow">
                        <input type="hidden" name="user_from" id="id_user_from" value="2">
                        <select style="display: none;" name="user_to" required="" id="id_user_to">
                            <option type="hidden" value="{{friend.id}}" selected="{{friend.id}}">{{friend.id}}</option>
                        </select>
                        <button type="submit"
                            class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-8 px-4 bg-[#EEEFF2] text-[#1C1D22] text-sm font-medium leading-normal w-fit">
                            <span class="truncate">Accepted</span>
                        </button>
                    </form>

                </div>

            </div>
            {% endfor %}
        </div>
        <div id="Your_Friends">


            {% for friend in my_friends%}

            <div class="flex items-center gap-4 bg-[#F9FAFA] px-4 min-h-[72px] py-2 justify-between">
                <div class="flex items-center gap-4">
                    <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-fit"
                        style='background-image: url("https://cdn.usegalileo.ai/sdxl10/88fbe608-8943-400e-9857-4b335060a6b5.png");'>
                    </div>
                    <div class="flex flex-col justify-center">
                        <p class="text-[#1C1D22] text-base font-medium leading-normal line-clamp-1">{{friend.user_to}}</p>
                        <p class="text-[#3C3F4A] text-sm font-normal leading-normal line-clamp-2">User profile details
                        </p>
                    </div>
                </div>
                {{form.errors}}
                <div class="shrink-0">
                    <form method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="opt" id="opt" value="delete">
                        <input type="hidden" name="user_from" id="id_user_from" value="2">
                        <select style="display: none;" name="user_to" required="" id="id_user_to">
                            <option type="hidden" value="{{friend.user_to.id}}" selected="{{friend.user_to.id}}">{{friend.user_to.id}}</option>
                        </select>
                        <button type="submit"
                            class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-8 px-4 bg-[#EEEFF2] text-[#1C1D22] text-sm font-medium leading-normal w-fit">
                            <span class="truncate">Unfollow</span>
                        </button>
                    </form>

                </div>
            </div>
            {% endfor %}
        </div> -->

    </div>
</div>

{% endblock %}

<!-- <h2>Friends</h2>
<ul>
    {% for friend in friends %}
    <li>{{ friend.user_to.username }}</li>
    {% endfor %}
</ul> -->